<template name="group">
    <div class="wrapper">
        {{loadIsMember}}
        {{#with data}}
        <div class="row">
            <div class="col-md-8">
                <h2>{{name}}</h2>
            </div>
            {{#if currentUser}}
            <div class="col-md-4">
                <button class="btn btn-default" id="toggleGroup">
                    {{#if userIsMember}}
                        {{_ "group.leave"}}
                    {{else}}
                        {{_ "group.join"}}
                    {{/if}}
                </button>
            </div>
            {{/if}}
        </div>
        {{/with}}
        <div class="row">
            <div class="col-md-8">
                <h3>{{_ "group.content"}}</h3>
                <hr/>
                <table class="table">
                    <tr>
                        <th>{{_ "mainContent.title"}}</th>
                        <th>{{_ "mainContent.description"}}</th>
                        <th>{{_ "mainContent.created"}}</th>
                        <th>{{_ "mainContent.rating"}}</th>
                    </tr>
                    {{#each get_content}}
                        <tr class="contentRow">
                            <td>
                                <a href="{{pathFor 'show_content' _id=_id}}">
                                    {{title}}
                                </a>
                            </td>
                            <td>
                                {{description}}
                            </td>
                            <td>
                                {{createdBy}} 
                            </td>
                            <td>
                                {{rating}}
                            </td>
                        </tr>
                    {{/each}}
                </table>
            </div>
            <div class="col-md-4">
                <h3>{{_ "group.members"}}</h3>
                <hr/>
                <table class="table">
                    {{#each get_members}}
                        <tr>
                            <td>{{this}}</td>
                        </tr>
                    {{/each}}
                </table>
            </div>
        </div>
    </div>
</template>
